!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["react","react-dom"],t):"object"==typeof exports?exports["react-super-simple-scroller"]=t(require("react"),require("react-dom")):e["react-super-simple-scroller"]=t(e.react,e["react-dom"])}(self,(e,t)=>(()=>{"use strict";var r={63:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=({portalIDListRef:e,cellPortalListRef:t,cellDataListRef:r,portalContainerMapRef:n,headBandListRef:l,tailBandListRef:a,cradleActualRef:o,callbacksRef:i})=>({backwardCellsToRemoveCount:c,forwardCellsToRemoveCount:s,backwardBandsToRemoveCount:u,forwardBandsToRemoveCount:d})=>{var f;const p=e.current,h=t.current,m=r.current,g=n.current,b=l.current,v=a.current,R=o.current,w=s?p.splice(-s):[],y=p.splice(0,c);w.forEach(e=>{g.get(e).remove(),g.delete(e)}),y.forEach(e=>{g.get(e).remove(),g.delete(e)}),s&&h.splice(-s),c&&h.splice(0,c),s&&m.splice(-s),c&&m.splice(0,c),R.backwardCells-=c,R.forwardCells-=s,R.totalCells=R.backwardCells+R.forwardCells;const C=b.splice(0,u),k=d?v.splice(-d):[];if(R.backwardBands-=u,R.forwardBands-=d,R.totalBands=R.backwardBands+R.forwardBands,C.forEach(e=>{e.parentElement.removeChild(e)}),k.forEach(e=>{e.parentElement.removeChild(e)}),null===(f=i.current)||void 0===f?void 0:f.removed){const e=y.concat(w);e.length&&i.current.removed(e)}}},147:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createBand=t.createContainer=t.getCellGapFromSpacing=t.getBandPaddingFromSpacing=t.getCradleMarginsFromSpacing=t.baseCradleActual=t.isValidID=void 0;t.isValidID=e=>"number"==typeof e&&!Number.isNaN(e)||"string"==typeof e,t.baseCradleActual={cellsPerBand:null,totalBands:0,forwardBands:0,backwardBands:0,forwardCells:0,backwardCells:0,totalCells:0};t.getCradleMarginsFromSpacing=e=>{let t=null==e?void 0:e.cradleMargin;t=null!=t?t:[];let[r,n]=t;return r=null!=r?r:0,n=null!=n?n:0,[r,n]};t.getBandPaddingFromSpacing=e=>{let t=null==e?void 0:e.bandPadding;t=null!=t?t:[];let[r,n]=t;return r=null!=r?r:0,n=null!=n?n:0,[r,n]};t.getCellGapFromSpacing=e=>{let t=null==e?void 0:e.cellGap;return t=null!=t?t:0,t};t.createContainer=(e,t,r,n,l)=>{const a=document.createElement("div");return a.setAttribute("data-type","portal-container"),a.setAttribute("data-id",e),a.style.position="relative",a.style.overflow="hidden",a.style.boxSizing="border-box","vertical"==n?(a.style.maxWidth=t.maxWidth+"px",a.style.minWidth=t.minWidth+"px","uniform"==l?a.style.height=t.maxHeight+"px":(a.style.minHeight=t.minHeight+"px",a.style.maxHeight=t.maxHeight+"px")):(a.style.maxHeight=t.maxHeight+"px",a.style.minHeight=t.minHeight+"px","uniform"==l?a.style.width=t.maxWidth+"px":(a.style.minWidth=t.minWidth+"px",a.style.maxWidth=t.maxWidth+"px")),a};t.createBand=(e,t,r,n,l)=>{const{cellGap:a,bandPadding:o,cradleMargin:i}=n,c=document.createElement("div"),[s,u]=o,[d,f]=i;l&&l.observe(c,{childList:!0}),c.setAttribute("data-type","band"),c.style.display="grid",c.style.boxSizing="border-box";const p=`repeat(${r}, 1fr)`;return"vertical"==e?(c.style.gridTemplateColumns=p,c.style.paddingTop=s+"px",c.style.paddingBottom=u+"px",c.style.paddingLeft=d+"px",c.style.paddingRight=f+"px",c.style.columnGap=a+"px",c.style.minWidth="100%","variable"==t&&(c.style.gridTemplateRows="max-content")):(c.style.gridTemplateRows=p,c.style.paddingLeft=s+"px",c.style.paddingRight=u+"px",c.style.paddingTop=d+"px",c.style.paddingBottom=f+"px",c.style.rowGap=a+"px",c.style.minHeight="100%","variable"==t&&(c.style.gridTemplateColumns="max-content")),c}},155:t=>{t.exports=e},494:function(e,t,r){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(l,a){function o(e){try{c(n.next(e))}catch(e){a(e)}}function i(e){try{c(n.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?l(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(o,i)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const l=r(155);t.default=({STANDARD_SCROLL_MOMENTUM_FADE:e,AXIS_START_POSITION:t,DOMManipulationQueueRef:r,orientationRef:a,viewportRef:o,headblockRef:i,leadHeadblockBandRef:c,headblockOverflowTriggerRef:s,tailblockRef:u,tailblockOverflowTriggerRef:d,leadTailblockBandRef:f,cradleActualRef:p,cradlePotentialRef:h,headBandListRef:m,tailBandListRef:g,intersectionsMapRef:b,scrollTopRef:v,scrollLeftRef:R,axisPositionRef:w,portalIDListRef:y,immediateIsScrollingRef:C,immediateStopScrollingRef:k,restoreScrollingTimeoutIDRef:B,setAxisPosition:x,intersectionsDisconnect:D,intersectionsConnect:P,fillCradle:T,updateCurrentAxisReferenceID:E,trimCradle:M})=>{const L=r.current,I=(0,l.useCallback)(r=>n(void 0,void 0,void 0,function*(){if(!o.current)return;if(b.current.size<7)return;if(!y.current.length)return;const r=b.current,l=r.get("lead-headblock-band"),i=r.get("headblock-overflow-trigger"),c=r.get("lead-headblock-band-backward-trigger"),s=r.get("lead-tailblock-band"),u=r.get("lead-tailblock-band-end-trigger"),d=r.get("lead-tailblock-band-forward-trigger"),f=r.get("tailblock-overflow-trigger"),p="before"==i.rs3position&&"before"==l.rs3position&&"before"==c.rs3position&&"before"==s.rs3position&&"before"==d.rs3position&&"before"==u.rs3position&&"before"==f.rs3position,h="after"==i.rs3position&&"after"==l.rs3position&&"after"==c.rs3position&&"after"==s.rs3position&&"after"==d.rs3position&&"after"==u.rs3position&&"after"==f.rs3position;if(p||h)return console.log("WARNING: POSITION RECOVERY","from all",p?"before":"after"),D(),C.current&&(o.current.style.overflow="hidden",k.current=!0,v.current=o.current.scrollTop,R.current,o.current.scrollLeft,clearTimeout(B.current),B.current=setTimeout(()=>{k.current=!1,o.current&&(o.current.style.overflow="auto")},e)),"vertical"==a.current?(k.current=!1,x(0,t-1,"outside"),o.current.scrollTo(R.current,t)):(k.current=!1,x(t-1,0,"outside"),o.current.scrollTo(t,v.current)),void setTimeout(()=>{P()},1);if("in"==l.rs3position||"in"==s.rs3position){if("in"!=i.rs3position&&"in"!=c.rs3position&&"in"!=f.rs3position&&"in"!=d.rs3position&&"in"!=u.rs3position&&("in"==l.rs3position&&"in"!=s.rs3position||"in"!=l.rs3position&&"in"==s.rs3position))return}if("before"!=i.rs3position){D(),C.current&&(o.current.style.overflow="hidden",k.current=!0,v.current=o.current.scrollTop,R.current=o.current.scrollLeft,clearTimeout(B.current),B.current=setTimeout(()=>{k.current=!1,o.current&&(o.current.style.overflow="auto")},e));const t=()=>n(void 0,void 0,void 0,function*(){D(),S(),yield T(),setTimeout(()=>{P()},1)});return void(yield L.enqueue(t))}if("after"!=f.rs3position&&m.current.length){D(),C.current&&(o.current.style.overflow="hidden",k.current=!0,v.current=o.current.scrollTop,R.current,o.current.scrollLeft,clearTimeout(B.current),B.current=setTimeout(()=>{k.current=!1,o.current&&(o.current.style.overflow="auto")},e));const t=()=>n(void 0,void 0,void 0,function*(){D(),O(),yield T(),setTimeout(()=>{P()},1)});return void(yield L.enqueue(t))}if("in"==c.rs3position){D();const e=g.current;let t=0;if("vertical"==a.current){const r=c.boundingClientRect.bottom-c.rootBounds.top;let n=e.length-1,l=e[n].offsetHeight,a=0;for(;l+a<r&&(l+=a,n--,!(n<0));)a=e[n].offsetHeight;t=e.length-n}else{const r=c.boundingClientRect.right-c.rootBounds.left;let n=e.length-1,l=e[n].offsetWidth,a=0;for(;l+a<r&&(l+=a,n--,!(n<0));)a=e[n].offsetHeight;t=e.length-n}const r=t,l=()=>n(void 0,void 0,void 0,function*(){D(),_("backward",r),yield T(),setTimeout(()=>{P()},1)});return void(yield L.enqueue(l))}if("before"==d.rs3position){D();const e=g.current;let t=0;if(!e.length)return;if("vertical"==a.current){const r=d.rootBounds.top-d.boundingClientRect.bottom;let n=e.length-1,l=e[n].offsetHeight,a=0;for(;l+a<r&&(l+=a,n--,!(n<0));)a=e[n].offsetHeight;t=e.length-n}else{const r=c.rootBounds.left-c.boundingClientRect.right;let n=e.length-1,l=e[n].offsetWidth,a=0;for(;l+a<r&&(l+=a,n--,!(n<0));)a=e[n].offsetHeight;t=e.length-n}const r=t,l=()=>n(void 0,void 0,void 0,function*(){D(),_("forward",r),yield T(),setTimeout(()=>{P()},1)});return void(yield L.enqueue(l))}}),[]),S=()=>{const e=p.current;e.backwardBands?_("backward",e.backwardBands):"vertical"==a.current?(v.current=t,o.current.scrollTo(R.current,t),x(0,t-1,"head overflow")):(o.current.scrollTo(t,v.current),R.current=t,x(t-1,0,"head overflow")),e.totalCells=e.forwardCells+e.backwardCells,e.totalBands=e.forwardBands+e.backwardBands},O=()=>{const e=d.current.getBoundingClientRect(),t=o.current.getBoundingClientRect();if("vertical"==a.current){const r=t.bottom-e.top,n=t.height,l=i.current.offsetHeight+u.current.offsetHeight+2-(n-r),a=Math.min(r,l)+3,o=w.current.y;a&&x(0,o+a,"tail overflow")}else{const r=t.right-e.left,n=t.width,l=i.current.offsetWidth+u.current.offsetWidth+2-(n-r),a=Math.min(r,l)+3,o=w.current.x;a&&x(o+a,0)}},_=(e,t)=>{const r=p.current,n=(h.current,i.current,m.current),l=(u.current,g.current),s=c.current,d=f.current;if("forward"==e)for(let e=1;e<=t;e++){const e=l.shift(),t=l[0],o=n.at(-1);n.push(e);const i=e.childElementCount;if(r.forwardBands--,r.forwardCells-=i,r.backwardBands++,r.backwardCells+=i,o&&s.before(o),s.append(e),t&&d.append(t),"vertical"==a.current){const t=w.current.y,r=e.offsetHeight;x(0,t+r,"forward shift")}else{const t=w.current.x,r=e.offsetWidth;x(t+r,0)}}else{if(!n.length)return void("vertical"==a.current?x(0,o.current.scrollTop-1):x(o.current.scrollLeft-1,0));for(let e=t;e>=1;e--){const e=n.pop(),t=n.at(-1),o=l[0];o&&d.after(o),d.append(e),l.unshift(e),t&&s.append(t);const i=e.childElementCount;if(r.forwardBands++,r.forwardCells+=i,r.backwardBands--,r.backwardCells-=i,"vertical"==a.current){const t=w.current.y,r=e.offsetHeight;x(0,t-r,"backward shift")}else{const t=w.current.x,r=e.offsetWidth;x(t-r,0)}}}M(),E()};return I}},514:e=>{e.exports=t},605:function(e,t,r){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(l,a){function o(e){try{c(n.next(e))}catch(e){a(e)}}function i(e){try{c(n.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?l(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(o,i)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const l=r(155),a=r(147);t.default=({DOMManipulationQueueRef:e,cradlePotentialRef:t,portalContainerMapRef:r,portalIDListRef:o,cellPortalListRef:i,cellDataListRef:c,tailBandListRef:s,headBandListRef:u,cradleActualRef:d,setPortalRenderList:f,intersectionsDisconnect:p,intersectionsConnect:h,getSeed:m,callbacksRef:g,resetAxisPosition:b})=>(0,l.useCallback)(e=>n(void 0,void 0,void 0,function*(){var n;const l=t.current;r.current.forEach(e=>{e.remove()}),r.current.clear(),o.current.length=0,i.current.length=0,f([]),c.current.length=0,s.current.forEach(e=>{e.remove()}),s.current.length=0;u.current.length;u.current.forEach(e=>{e.remove()}),u.current.length=0;let v=null==e||e;if(!0!==v&&(v=!1),d.current=Object.assign(Object.assign({},a.baseCradleActual),{orientation:l.orientation,layout:l.layout,cellsPerBand:l.cellsPerBand}),v)return;const R=!(0,a.isValidID)(e);R&&(null===(n=g.current)||void 0===n?void 0:n.error)&&g.current.error({source:"reset",message:"must be a valid seed referenceID",arguments:[e],timestamp:Date.now()}),R||i.current.length||(p(),yield m(e),b(),setTimeout(()=>{h()},1))}),[])},678:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=class{constructor(){this.queue=[],this.pendingPromise=!1}enqueue(e){return new Promise((t,r)=>{this.queue.push({promise:e,resolve:t,reject:r}),this.dequeue()})}dequeue(){if(this.pendingPromise)return!1;const e=this.queue.shift();if(!e)return!1;try{this.pendingPromise=!0,e.promise().then(t=>{this.pendingPromise=!1,e.resolve(t),this.dequeue()}).catch(t=>{this.pendingPromise=!1,e.reject(t),this.dequeue()})}catch(t){this.pendingPromise=!1,e.reject(t),this.dequeue()}return!0}}},691:function(e,t,r){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(l,a){function o(e){try{c(n.next(e))}catch(e){a(e)}}function i(e){try{c(n.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?l(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(o,i)}c((n=n.apply(e,t||[])).next())})},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=l(r(155)),o=r(514),i=r(147);t.default=({scrollerName:e,orientationRef:t,layoutRef:r,spacingRef:l,cradlePotentialRef:c,cradleActualRef:s,cellPortalListRef:u,portalIDListRef:d,cellDataListRef:f,portalContainerMapRef:p,cellDimensionsRef:h,tailblockRef:m,tailBandListRef:g,leadTailblockBandRef:b,headblockRef:v,headBandListRef:R,leadHeadblockBandRef:w,setPortalRenderList:y,fetchCellsRef:C,updateCurrentAxisReferenceID:k,callbacksRef:B,bandMutationObserverRef:x})=>{var D;const P=null!==(D=B.current)&&void 0!==D?D:{},T=(e,...t)=>n(void 0,[e,...t],void 0,function*(e,t=null){if(!m.current||!v.current)return;const r=c.current,n=s.current,l=C.current;if(r)if("seed"==e){const r=1,n=yield l(e,t,r);if(n.length>r){const e=n.splice(r);if(e.length){const t=e.map(e=>e.id);P.failed&&P.failed({source:"fetchCells, seed",message:"too many cellPacks; excess not loaded",excessList:t,timestamp:Date.now()})}}if(n.length){const e=E(n);u.current=e,y(e),k()}yield T("forward")}else if("forward"==e){const t=g.current;let a=0;t.length>1&&(a=n.cellsPerBand-t[0].childElementCount);let o=!0;for(;n.forwardCells<r.forwardCells-a&&o;){const t=r.forwardCells-n.forwardCells;let a=[];if(t>0&&(a=yield l(e,d.current.at(-1),t)),a.length>t){const e=a.splice(t);if(e.length){const t=e.map(e=>e.id);P.failed&&P.failed({source:"fetchCells, forward",message:"too many cellPacks; excess not loaded",excessList:t,timestamp:Date.now()})}}if(a.length){const r=M(a);if(r.length===u.current.length){P.error&&P.error({source:"fetchCells, forward",message:"one or more errors found in fetched cellPacks. Loading aborted",arguments:[e,d.current.at(-1),t],return:a,timestamp:Date.now()});break}u.current=r,y(r),k()}else o=!1}yield T("backward")}else if("backward"==e){let t=!0;for(;n.backwardCells<r.backwardCells&&t;){const a=r.backwardCells-n.backwardCells;let o=[];if(a>0&&(o=yield l(e,d.current[0],a)),o.length>a){const e=o.splice(a);if(e.length){const t=e.map(e=>e.id);P.failed&&P.failed({source:"fetchCells, backward",message:"too many cellPacks; excess not loaded",excessList:t,timestamp:Date.now()})}}if(o.length){const t=L(o);if(t.length===u.current.length){P.error&&P.error({source:"fetchCells, backward",message:"one or more errors found in fetched cellPacks. Loading aborted",arguments:[e,d.current[0],a],return:o,timestamp:Date.now()});break}u.current=t,y(t),k()}else t=!1}}}),E=e=>{const n=s.current,c=[],m=u.current,v=e[0];if("object"!=typeof v||!a.default.isValidElement(v.component)||!(0,i.isValidID)(v.id))return P.error&&P.error({source:"fetchCells, seed",message:"cellPack must have valid id and component; seed cellPack ignored",arguments:[v],timestamp:Date.now()}),m;const{id:R,component:w}=v;f.current.push(v),d.current.push(R);const y=(0,i.createContainer)(R,h.current,n.cellsPerBand,t.current,r.current);p.current.set(R,y),c.push((0,o.createPortal)(w,y,R));const C=(0,i.createBand)(t.current,r.current,s.current.cellsPerBand,l.current,x.current);g.current.push(C),b.current.append(C),C.append(y),n.totalBands++,n.forwardBands++,n.forwardCells++,n.totalCells++;return m.concat(c)},M=e=>{const n=[],c=u.current;if(!e.every(e=>{const t=!("object"==typeof e&&a.default.isValidElement(e.component)&&(0,i.isValidID)(e.id));t&&P.error&&P.error({source:"fetchCells, forward",message:"cellPack must have valid id and component",arguments:[e],timestamp:Date.now()});let r=!1;return t||(r=p.current.has(e.id),r&&P.error&&P.error({source:"fetchCells, forward",message:"fetched cellPack is a duplicate",arguments:[e],timestamp:Date.now()})),!r&&!t}))return c;const v=s.current;e.forEach(e=>{f.current.push(e);const{id:a,component:c}=e;d.current.push(a);const s=(0,i.createContainer)(a,h.current,v.cellsPerBand,t.current,r.current);let u;p.current.set(a,s),n.push((0,o.createPortal)(c,s,a));const R=g.current.at(-1);R&&R.childElementCount<v.cellsPerBand?u=R:(u=(0,i.createBand)(t.current,r.current,v.cellsPerBand,l.current,x.current),0==g.current.length?b.current.append(u):m.current.append(u),g.current.push(u),v.totalBands++,v.forwardBands++),u.append(s),v.forwardCells++,v.totalCells++});return c.concat(n)},L=e=>{const n=[],c=u.current;if(!e.every(e=>{const t=!("object"==typeof e&&a.default.isValidElement(e.component)&&(0,i.isValidID)(e.id));t&&P.error&&P.error({source:"fetchCells, backward",message:"cellPack must have valid id and component",arguments:[e],timestamp:Date.now()});let r=!1;return t||(r=p.current.has(e.id),r&&P.error&&P.error({source:"fetchCells, backward",message:"fetched cellPack is a duplicate",arguments:[e],timestamp:Date.now()})),!r&&!t}))return c;const m=s.current;e.forEach(e=>{f.current.unshift(e);const{id:a,component:c}=e;d.current.unshift(a);const u=(0,i.createContainer)(a,h.current,s.current.cellsPerBand,t.current,r.current);let b;p.current.set(a,u),n.unshift((0,o.createPortal)(c,u,a));const y=R.current[0];if(!y){const e=g.current[0];if(e.childElementCount<m.cellsPerBand)return b=e,b.prepend(u),m.forwardCells++,void m.totalCells++}y&&y.childElementCount<m.cellsPerBand?b=y:(b=(0,i.createBand)(t.current,r.current,m.cellsPerBand,l.current,x.current),0==R.current.length?w.current.append(b):v.current.prepend(b),R.current.unshift(b),m.totalBands++,m.backwardBands++),b.prepend(u),m.backwardCells++,m.totalCells++});return n.concat(c)};return T}},787:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.selectStyles=t.SCROLLBLOCK_SPAN=void 0;const r=1e6;t.SCROLLBLOCK_SPAN=r;const n={height:r+"px",width:"100%",position:"relative"},l={position:"absolute",top:0,left:0,height:0,width:"100%"},a={zIndex:0,position:"absolute",left:0,bottom:0,width:"fit-content",minWidth:"100%",display:"flex",flexDirection:"column"},o={zIndex:-1,position:"absolute",top:0,left:0,height:"1px",width:"100%"},i={zIndex:0,position:"relative",minHeight:"1px",minWidth:"100%"},c={zIndex:-1,position:"absolute",top:0,left:0,height:"1px",width:"100%"},s={zIndex:0,position:"absolute",top:0,left:0,width:"fit-content",minWidth:"100%",display:"flex",flexDirection:"column"},u={zIndex:-1,position:"absolute",bottom:"-4px",right:0,height:"1px",width:"100%"},d={zIndex:0,position:"relative",minHeight:"1px",minWidth:"100%"},f={zIndex:-1,position:"absolute",top:"5px",right:0,height:"1px",width:"100%"},p={zIndex:-1,position:"absolute",bottom:0,right:0,height:"1px",width:"100%"},h={width:r+"px",height:"100%",position:"relative"},m={position:"absolute",left:0,top:0,width:0,height:"100%"},g={zIndex:0,position:"absolute",top:0,right:0,height:"fit-content",minHeight:"100%",display:"flex",flexDirection:"row"},b={zIndex:-1,position:"absolute",left:0,top:0,height:"100%",width:"1px"},v={zIndex:0,position:"relative",minWidth:"1px",minHeight:"100%"},R={zIndex:-1,position:"absolute",left:0,top:0,height:"100%",width:"1px"},w={zIndex:0,position:"absolute",left:0,top:0,height:"fit-content",minHeight:"100%",display:"flex",flexDirection:"row"},y={zIndex:-1,position:"absolute",right:"-4px",top:0,height:"100%",width:"1px"},C={zIndex:0,position:"relative",minWidth:"1px",minHeight:"100%"},k={zIndex:-1,position:"absolute",top:0,left:0,height:"100%",width:"1px"},B={zIndex:-1,position:"absolute",top:0,right:0,height:"100%",width:"1px"};t.selectStyles=e=>{let t;return t="vertical"==e?{scrollblockStyles:n,axisStyles:l,headblockStyles:a,leadHeadblockBandStyles:i,headblockOverflowTriggerStyles:o,leadHeadblockBandBackwardTriggerStyles:c,tailblockStyles:s,leadTailblockBandStyles:d,tailblockOverflowTriggerStyles:u,leadTailblockBandForwardTriggerStyles:f,leadTailblockBandEndTriggerStyles:p}:{scrollblockStyles:h,axisStyles:m,headblockStyles:g,leadHeadblockBandStyles:v,headblockOverflowTriggerStyles:b,leadHeadblockBandBackwardTriggerStyles:R,tailblockStyles:w,leadTailblockBandStyles:C,tailblockOverflowTriggerStyles:y,leadTailblockBandForwardTriggerStyles:k,leadTailblockBandEndTriggerStyles:B},t}},869:function(e,t,r){var n,l=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var l=Object.getOwnPropertyDescriptor(t,r);l&&!("get"in l?!t.__esModule:l.writable||l.configurable)||(l={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,l)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||(n=function(e){return n=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t},n(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=n(e),o=0;o<r.length;o++)"default"!==r[o]&&l(t,e,r[o]);return a(t,e),t}),i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(l,a){function o(e){try{c(n.next(e))}catch(e){a(e)}}function i(e){try{c(n.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?l(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(o,i)}c((n=n.apply(e,t||[])).next())})},c=this&&this.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(n=Object.getOwnPropertySymbols(e);l<n.length;l++)t.indexOf(n[l])<0&&Object.prototype.propertyIsEnumerable.call(e,n[l])&&(r[n[l]]=e[n[l]])}return r},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const u=o(r(155)),d=s(r(678)),f=r(787),p=r(147),h=s(r(691)),m=s(r(937)),g=s(r(63)),b=s(r(494)),v=s(r(605)),R=s(r(967)),w=r(787),y=r(147),C=f.SCROLLBLOCK_SPAN/2;let k=700,B=200,x=4;const D={position:"absolute",inset:0,overflow:"auto",scrollbarWidth:"none",overscrollBehavior:"none",overflowAnchor:"none"},P={display:"none"},T=e=>{const{orientation:t,layout:r,cellDimensions:n,seedReferenceID:l,fetchCells:a,callbacks:o,calls:c,spacing:s,operations:f={},scrollerName:T="not named"}=e,E=(0,u.useRef)(new d.default),M=(0,u.useRef)(!1),L=(0,u.useRef)(t),I=(0,u.useRef)(r),S=(0,u.useRef)(n),O=(0,u.useRef)(s),_=(0,u.useRef)(l),A=(0,u.useRef)(a),H=(0,u.useRef)(a),j=(0,u.useRef)(null),N=(0,u.useRef)(null),q=(0,u.useRef)(null),W=(0,u.useRef)(null),z=(0,u.useRef)(null),V=(0,u.useRef)(null),F=(0,u.useRef)(null),G=(0,u.useRef)(null),[Q,U]=(0,u.useState)("setup"),$=(0,u.useRef)(null),[K,X]=(0,u.useState)(null),[Y,J]=(0,u.useState)((0,w.selectStyles)(t)),Z=(0,u.useRef)(null),ee=(0,u.useRef)(null),te=(0,u.useRef)(null),re=(0,u.useRef)(null),ne=(0,u.useRef)(null),le=(0,u.useRef)(null),ae=(0,u.useRef)(null),oe=(0,u.useRef)(null),ie=(0,u.useRef)(null),ce=(0,u.useRef)(null),se=(0,u.useRef)(null),ue=(0,u.useRef)(null),[de,fe]=(0,u.useState)(null),pe=(0,u.useRef)(null),he=(0,u.useRef)(Object.assign({orientation:t,layout:r},y.baseCradleActual)),me=(0,u.useRef)({x:0,y:C}),ge=(0,u.useRef)(null),be=(0,u.useRef)(null),ve=(0,u.useRef)(null),Re=(0,u.useRef)(l),we=(0,u.useRef)([]),ye=(0,u.useRef)([]),Ce=(0,u.useRef)([]),ke=(0,u.useRef)(new Map),[Be,xe]=(0,u.useState)([]),De=(0,u.useRef)([]),Pe=(0,u.useRef)([]),Te=(0,u.useRef)(0),Ee=(0,u.useRef)(0),[Me,Le]=(0,u.useState)(!1),Ie=(0,u.useRef)(!1),Se=(0,u.useRef)(!1),Oe=(0,u.useRef)(null),_e=(0,u.useRef)(new Map),Ae=(0,u.useRef)(null),He=(0,u.useRef)(null),je=(0,u.useRef)(null),Ne=(0,u.useRef)(null),qe=(0,u.useRef)(null),We=(0,u.useRef)(null);j.current=t,N.current=r,q.current=n,W.current=l,z.current=o,V.current=c,G.current=f,pe.current=de,$.current=Q;const ze=()=>{M.current&&(Oe.current.disconnect(),M.current=!1)},Ve=()=>{M.current||E.current.queue.length||(_e.current.clear(),ae.current&&Oe.current.observe(ae.current),ne.current&&Oe.current.observe(ne.current),le.current&&Oe.current.observe(le.current),ie.current&&Oe.current.observe(ie.current),ce.current&&Oe.current.observe(ce.current),se.current&&Oe.current.observe(se.current),ue.current&&Oe.current.observe(ue.current),M.current=!0)},Fe=(0,u.useCallback)((e,t,r="general")=>{const n=`translate(${e+"px"},${t+"px"})`;me.current={x:e,y:t},te.current.style.transform=n},[]),Ge=()=>{var e;const t=ye.current.at(-he.current.forwardCells);t!==Re.current&&(Re.current=t,(null===(e=z.current)||void 0===e?void 0:e.axisReferenceID)&&z.current.axisReferenceID(t))},Qe=()=>{const e=he.current,t=pe.current,r=Pe.current;let n=0;r.length>1&&(n=e.cellsPerBand-r[0].childElementCount);const l=Math.max(e.forwardBands-t.forwardBands,0),a=Math.max(e.backwardBands-t.backwardBands,0),o=Math.max(e.forwardCells-(t.forwardCells-n),0),i=Math.max(e.backwardCells-t.backwardCells,0);Ye({forwardCellsToRemoveCount:o,forwardBandsToRemoveCount:l,backwardCellsToRemoveCount:i,backwardBandsToRemoveCount:a})},Ue=()=>i(void 0,void 0,void 0,function*(){return yield Xe("forward"),!0}),$e=e=>i(void 0,void 0,void 0,function*(){return(0,p.isValidID)(e)?(yield Xe("seed",e),!0):(o.error&&o.error({source:"getSeed",message:"must be a valid referenceID",arguments:[e],timestamp:Date.now()}),!1)}),Ke=()=>{if("vertical"==j.current){const e=me.current.y-Z.current.scrollTop;Te.current=C,Z.current.scrollTo(Ee.current,C),Fe(0,C+e,"stop scrolling")}else{const e=me.current.x-Z.current.scrollLeft;Ee.current=C,Z.current.scrollTo(C,Te.current),Fe(C+e,0)}},Xe=(0,h.default)({scrollerName:T,orientationRef:j,layoutRef:N,spacingRef:F,cradlePotentialRef:pe,cradleActualRef:he,cellPortalListRef:Ce,portalIDListRef:ye,cellDataListRef:we,portalContainerMapRef:ke,cellDimensionsRef:q,tailblockRef:oe,tailBandListRef:Pe,leadTailblockBandRef:ie,headblockRef:re,headBandListRef:De,leadHeadblockBandRef:ne,setPortalRenderList:xe,fetchCellsRef:H,updateCurrentAxisReferenceID:Ge,callbacksRef:z,bandMutationObserverRef:je}),Ye=(0,g.default)({portalIDListRef:ye,cellPortalListRef:Ce,cellDataListRef:we,portalContainerMapRef:ke,headBandListRef:De,tailBandListRef:Pe,cradleActualRef:he,callbacksRef:z}),Je=(0,b.default)({DOMManipulationQueueRef:E,orientationRef:j,intersectionsMapRef:_e,immediateIsScrollingRef:Ie,viewportRef:Z,immediateStopScrollingRef:Se,scrollTopRef:Te,scrollLeftRef:Ee,restoreScrollingTimeoutIDRef:qe,STANDARD_SCROLL_MOMENTUM_FADE:k,AXIS_START_POSITION:C,axisPositionRef:me,cradleActualRef:he,tailblockOverflowTriggerRef:ue,cradlePotentialRef:pe,headblockRef:re,headBandListRef:De,tailblockRef:oe,tailBandListRef:Pe,leadHeadblockBandRef:ne,headblockOverflowTriggerRef:ae,leadTailblockBandRef:ie,portalIDListRef:ye,setAxisPosition:Fe,intersectionsDisconnect:ze,intersectionsConnect:Ve,trimCradle:Qe,fillCradle:Ue,updateCurrentAxisReferenceID:Ge}),Ze=(0,v.default)({DOMManipulationQueueRef:E,cradlePotentialRef:pe,portalContainerMapRef:ke,portalIDListRef:ye,cellPortalListRef:Ce,cellDataListRef:we,tailBandListRef:Pe,headBandListRef:De,cradleActualRef:he,setPortalRenderList:xe,intersectionsDisconnect:ze,intersectionsConnect:Ve,getSeed:$e,callbacksRef:z,resetAxisPosition:Ke}),et=(0,m.default)({DOMManipulationQueueRef:E,orientationRef:j,layoutRef:N,spacingRef:F,seedReferenceIDRef:W,currentAxisReferenceIDRef:Re,cradleActualRef:he,cellPortalListRef:Ce,portalIDListRef:ye,portalContainerMapRef:ke,headblockRef:re,headBandListRef:De,leadHeadblockBandRef:ne,tailblockRef:oe,tailBandListRef:Pe,leadTailblockBandRef:ie,intersectionsDisconnect:ze,intersectionsConnect:Ve,setPortalRenderList:xe,removeCells:Ye,getSeed:$e,fillCradle:Ue,updateCurrentAxisReferenceID:Ge,bandMutationObserverRef:je}),tt=(0,R.default)({DOMManipulationQueueRef:E,scrollerName:T,operationsRef:G,portalIDListRef:ye,cellPortalListRef:Ce,cellDataListRef:we,portalContainerMapRef:ke,spacingRef:F,scrollTopRef:Te,scrollLeftRef:Ee,viewportRef:Z,headblockRef:re,tailblockRef:oe,headBandListRef:De,tailBandListRef:Pe,leadHeadblockBandRef:ne,cradleActualRef:he,cradlePotentialRef:pe,cellDimensionsRef:q,orientationRef:j,layoutRef:N,currentAxisReferenceIDRef:Re,setPortalRenderList:xe,updateCurrentAxisReferenceID:Ge,trimCradle:Qe,fillCradle:Ue,reset:Ze,callbacksRef:z,intersectionsDisconnect:ze,intersectionsConnect:Ve,bandMutationObserverRef:je});(0,u.useEffect)(()=>()=>{Z.current&&Z.current.remove()},[]),(0,u.useEffect)(()=>{ge.current=(0,y.getCradleMarginsFromSpacing)(s),be.current=(0,y.getBandPaddingFromSpacing)(s),ve.current=(0,y.getCellGapFromSpacing)(s),F.current={cradleMargin:ge.current,bandPadding:be.current,cellGap:ve.current}},[s]),(0,u.useEffect)(()=>{Oe.current=new IntersectionObserver(rt,{root:Z.current});return(Ae.current=new ResizeObserver(nt)).observe(Z.current),()=>{Oe.current.disconnect(),Ae.current.disconnect()}},[]),(0,u.useEffect)(()=>{"vertical"==j.current?(Z.current.scrollTo(Ee.current,C),Fe(0,C-1,"setup")):(Z.current.scrollTo(C,Te.current),Fe(C-1,0))},[]),(0,u.useEffect)(()=>{c&&Object.assign(c,tt)},[c]);const rt=(0,u.useCallback)((e,t)=>{e.sort((e,t)=>e.time-t.time),e.forEach(e=>{"vertical"==j.current?e.rs3position=e.isIntersecting?"in":e.rootBounds.top>e.boundingClientRect.bottom?"before":"after":e.rs3position=e.isIntersecting?"in":e.rootBounds.left>e.boundingClientRect.right?"before":"after",_e.current.set(e.target.dataset.type,e)}),Je("observer")},[]),nt=(0,u.useCallback)(e=>{const t=e[0].borderBoxSize[0],r=t.inlineSize,n=t.blockSize;ze();const l="setup"==Q?B:k;clearTimeout(We.current),We.current=setTimeout(()=>{"setup"==Q&&U("ready"),X({width:r,height:n})},l)},[Q]);return(0,u.useEffect)(()=>{let e,t;if(f.dispatchAttachedEvents){const r=new Event("rs3attached"),n=e=>{e.forEach(e=>{e.addedNodes.forEach(e=>{for(let t=0;t<e.children.length;t++){const n=e.children[t];n.firstChild&&n.firstChild.dispatchEvent(r)}})})},l=e=>{e.forEach(e=>{e.addedNodes.forEach(e=>{e.firstChild&&e.firstChild.dispatchEvent(r)})})};He.current=e=new MutationObserver(n),e.observe(re.current,{childList:!0}),e.observe(ne.current,{childList:!0}),e.observe(oe.current,{childList:!0}),e.observe(ie.current,{childList:!0}),je.current=t=new MutationObserver(l);const a=De.current,o=Pe.current;a.forEach(e=>{t.observe(e,{childList:!0})}),o.forEach(e=>{t.observe(e,{childList:!0})})}else He.current&&He.current.disconnect(),je.current&&je.current.disconnect();return()=>{He.current&&He.current.disconnect(),je.current&&je.current.disconnect()}},[f.dispatchAttachedEvents]),(0,u.useLayoutEffect)(()=>{if(!K)return;const[e,l]=ge.current,a=ve.current;let o,i;const c=n.maxWidth,s=n.maxHeight,u=n.minWidth,d=n.minHeight,[f,p]=F.current.bandPadding,h=f+p;"vertical"==t?(o=Math.ceil((K.width-(e+l)+a)/(c+a)),i="uniform"==r?Math.ceil(K.height/(s+h)):Math.ceil(K.height/(d+h))):(o=Math.ceil((K.height-(e+l)+a)/(s+a)),i="uniform"==r?Math.ceil(K.width/(c+h)):Math.ceil(K.width/(u+h)));const m=i+2*x,g=m-x,b=g*o,v=x*o,R={orientation:t,layout:r,cellsPerBand:o,visibleBands:i,totalBands:m,forwardBands:g,backwardBands:x,forwardCells:b,backwardCells:v,totalCells:b+v};null===he.current.cellsPerBand&&(he.current.cellsPerBand=o),J((0,w.selectStyles)(t)),fe(R)},[t,r,n,s,K,x]),(0,u.useLayoutEffect)(()=>{de&&(L.current!==j.current||I.current!==N.current||S.current!==q.current||O.current!==F.current?(L.current=j.current,I.current=N.current,S.current=q.current,O.current=F.current,_.current=W.current,A.current=H.current,E.current.enqueue(()=>i(void 0,void 0,void 0,function*(){yield Ze(Re.current),Ve()}))):E.current.enqueue(()=>i(void 0,void 0,void 0,function*(){yield et(de),Ve()})))},[de]),(0,u.useLayoutEffect)(()=>{if("setup"==$.current)return;if(H.current=a,_.current===W.current&&A.current===a)return;const e=_.current!==l?l:Re.current;_.current=W.current,A.current=H.current,E.current.enqueue(()=>i(void 0,void 0,void 0,function*(){yield Ze(e),Ve()}))},[l,a]),(0,u.useLayoutEffect)(()=>{"setup"!=$.current&&(Me||(Ke(),Ie.current=!1))},[Me]),u.default.createElement(u.default.Fragment,null,u.default.createElement("div",{"data-type":"viewport","data-scrollername":T,style:D,onScroll:e=>{const{target:t}=e;e.stopPropagation(),clearTimeout(Ne.current),Se.current?t.scrollTo(Ee.current,Te.current):(Te.current=t.scrollTop,Ee.current=t.scrollLeft),Me||(Ie.current=!0,Le(!0)),Ne.current=setTimeout(()=>{Le(!1)},k)},ref:Z},u.default.createElement("div",{"data-type":"scrollblock",style:Y.scrollblockStyles,ref:ee},u.default.createElement("div",{"data-type":"axis",style:Y.axisStyles,ref:te},u.default.createElement("div",{"data-type":"headblock",style:Y.headblockStyles,ref:re},u.default.createElement("div",{"data-type":"headblock-overflow-trigger",style:Y.headblockOverflowTriggerStyles,ref:ae}),u.default.createElement("div",{"data-type":"lead-headblock-band",style:Y.leadHeadblockBandStyles,ref:ne},u.default.createElement("div",{"data-type":"lead-headblock-band-backward-trigger",style:Y.leadHeadblockBandBackwardTriggerStyles,ref:le}))),u.default.createElement("div",{"data-type":"tailblock",style:Y.tailblockStyles,ref:oe},u.default.createElement("div",{"data-type":"lead-tailblock-band",style:Y.leadTailblockBandStyles,ref:ie},u.default.createElement("div",{"data-type":"lead-tailblock-band-forward-trigger",style:Y.leadTailblockBandForwardTriggerStyles,ref:ce}),u.default.createElement("div",{"data-type":"lead-tailblock-band-end-trigger",style:Y.leadTailblockBandEndTriggerStyles,ref:se})),u.default.createElement("div",{"data-type":"tailblock-overflow-trigger",style:Y.tailblockOverflowTriggerStyles,ref:ue}))))),u.default.createElement("div",{"data-type":"virtual-cradle",style:P},Be))};t.default=e=>{var{orientation:t,layout:r,cellDimensions:n,seedReferenceID:l,fetchCells:a}=e,o=c(e,["orientation","layout","cellDimensions","seedReferenceID","fetchCells"]);const{callbacks:i,calls:s,spacing:d,operations:f,scrollerName:p}=o,h={orientation:t,layout:r,cellDimensions:n,seedReferenceID:l,fetchCells:a,callbacks:i,calls:s,spacing:d,operations:f,scrollerName:p},{technical:m}=o;return(0,u.useEffect)(()=>{var e,t,r;const n=null!=m?m:{};k=null!==(e=n.STANDARD_SCROLL_MOMENTUM_FADE)&&void 0!==e?e:700,B=null!==(t=n.SHORT_MOMENTUM_FADE)&&void 0!==t?t:200,x=null!==(r=null==f?void 0:f.runway)&&void 0!==r?r:4},[m]),u.default.createElement(T,Object.assign({},h))}},937:function(e,t,r){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(l,a){function o(e){try{c(n.next(e))}catch(e){a(e)}}function i(e){try{c(n.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?l(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(o,i)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const l=r(155),a=r(147);t.default=({DOMManipulationQueueRef:e,orientationRef:t,layoutRef:r,spacingRef:o,seedReferenceIDRef:i,currentAxisReferenceIDRef:c,cradleActualRef:s,cellPortalListRef:u,portalIDListRef:d,portalContainerMapRef:f,headblockRef:p,headBandListRef:h,leadHeadblockBandRef:m,tailblockRef:g,tailBandListRef:b,leadTailblockBandRef:v,intersectionsDisconnect:R,intersectionsConnect:w,setPortalRenderList:y,removeCells:C,getSeed:k,fillCradle:B,updateCurrentAxisReferenceID:x,bandMutationObserverRef:D})=>(0,l.useCallback)(e=>n(void 0,void 0,void 0,function*(){if(null==i.current)return;R();const n=s.current,l=Object.assign({},n),c=u.current,P=h.current,T=b.current,E=t.current,M=r.current,L=d.current,I=p.current,S=g.current,O=m.current,_=v.current,A=D.current;if(e.cellsPerBand!==n.cellsPerBand){const t=e.cellsPerBand,r=e=>{const r=`repeat(${t}, 1fr)`;"vertical"==E?e.style.gridTemplateColumns=r:e.style.gridTemplateRows=r};P.forEach(e=>{r(e)}),T.forEach(e=>{r(e)});const i=Math.min(e.backwardBands,Math.ceil(l.backwardCells/t));let c=0;if(i>n.backwardBands){const e=i-n.backwardBands;for(let r=1;r<=e;r++){const e=(0,a.createBand)(E,M,t,o.current,A);0===P.length?O.append(e):I.prepend(e),P.unshift(e),n.backwardBands++}}if(i){let e=n.backwardCells-1;for(let r=P.length-1;r>=P.length-i;r--){const n=Math.min(e-(t-1),0),l=e-(t-1)+n,a=l+(t+n),o=L.slice(l,a),i=[];e-=o.length,c+=o.length,o.forEach(e=>{i.push(f.current.get(e))});P[r].replaceChildren(...i)}}const s=Math.min(e.forwardBands,Math.ceil(l.forwardCells/t));let d=0;if(s>n.forwardBands){const e=s-n.forwardBands;for(let r=1;r<=e;r++){const e=(0,a.createBand)(E,M,t,o.current,A);0===T.length?_.append(e):S.append(e),T.push(e),n.forwardBands++}}if(s){let e=n.backwardCells;for(let r=0;r<s;r++){const n=Math.min(L.length-1-(e+(t-1)),0),l=e,a=l+(t+n),o=L.slice(l,a),i=[];e+=o.length,d+=o.length,o.forEach(e=>{i.push(f.current.get(e))});T[r].replaceChildren(...i)}}const p=Math.max(l.backwardBands-i,0),h=Math.max(l.backwardCells-c,0),m=Math.max(l.forwardBands-s,0),g=Math.max(l.forwardCells-d,0);C({backwardCellsToRemoveCount:h,forwardCellsToRemoveCount:g,backwardBandsToRemoveCount:p,forwardBandsToRemoveCount:m}),Object.assign(n,{totalBands:n.backwardBands+n.forwardBands,totalCells:c+d,cellsPerBand:t}),y(u.current),x()}c.length?(yield B(),n.totalBands=n.backwardBands+n.forwardBands,n.totalCells=n.backwardCells+n.forwardCells,setTimeout(()=>{w()},1)):(yield k(i.current),n.totalBands=n.backwardBands+n.forwardBands,n.totalCells=n.backwardCells+n.forwardCells,setTimeout(()=>{w()},1))}),[])},967:function(e,t,r){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(l,a){function o(e){try{c(n.next(e))}catch(e){a(e)}}function i(e){try{c(n.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?l(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(o,i)}c((n=n.apply(e,t||[])).next())})},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=l(r(155)),o=r(514),i=r(147);t.default=({DOMManipulationQueueRef:e,scrollerName:t,operationsRef:r,portalIDListRef:l,cellPortalListRef:c,cellDataListRef:s,portalContainerMapRef:u,spacingRef:d,scrollTopRef:f,scrollLeftRef:p,viewportRef:h,headblockRef:m,tailblockRef:g,headBandListRef:b,tailBandListRef:v,leadHeadblockBandRef:R,cradleActualRef:w,cradlePotentialRef:y,cellDimensionsRef:C,orientationRef:k,layoutRef:B,currentAxisReferenceIDRef:x,setPortalRenderList:D,updateCurrentAxisReferenceID:P,trimCradle:T,fillCradle:E,reset:M,callbacksRef:L,intersectionsDisconnect:I,intersectionsConnect:S,bandMutationObserverRef:O})=>{var _;const A=null!==(_=L.current)&&void 0!==_?_:{},H=e.current,j=e=>n(void 0,void 0,void 0,function*(){return yield H.enqueue(()=>n(void 0,void 0,void 0,function*(){const t=yield(e=>{if(!(0,i.isValidID)(e))return A.error&&A.error({source:"remove",message:"must be valid target referenceID",arguments:[e],timestamp:Date.now()}),!1;const t=l.current.indexOf(e);if(-1===t)return A.warning&&A.warning({source:"remove",message:"target referenceID not found",arguments:[e],timestamp:Date.now()}),!1;I();const r=l.current,n=c.current,a=s.current,o=w.current,{cellsPerBand:d}=o,f=u.current,p=f.get(e);if(t<o.backwardCells){const e=b.current,r=d-e[0].childElementCount,n=t,l=Math.ceil((n+r+1)/d)-1;e[l];for(let t=l;t>0;t--)e[t].prepend(e[t-1].lastChild);const a=e[0];0===a.childElementCount&&(a.remove(),e.unShift(),o.headBands--,o.totalBands--),o.backwardCells--}else{const e=v.current,n=d-e[0].childElementCount,l=t-(r.length-o.forwardCells);for(let t=Math.ceil((l+n+1)/d)-1;t<e.length-1;t++)e[t].append(e[t+1].firstChild);const a=e.at(-1);0===a.childElementCount&&(a.remove(),e.pop(),o.tailBands--,o.totalBands--),o.forwardCells--}return p.remove(),f.delete(e),r.splice(t,1),n.splice(t,1),a.splice(t,1),o.totalCells--,D([...c.current]),!0})(e);return t&&(yield E(),setTimeout(()=>{S()},1),P(),A.removed&&A.removed([e])),S(),t}))});return{has:e=>(0,i.isValidID)(e)?u.current.has(e):(A.error&&A.error({source:"has",message:"must be a valid referenceID",arguments:[e],timestamp:Date.now()}),!1),insert:(e,t,...r)=>n(void 0,[e,t,...r],void 0,function*(e,t,r="before"){const f=yield H.enqueue(()=>n(void 0,void 0,void 0,function*(){const f=yield((e,t,r)=>n(void 0,void 0,void 0,function*(){if("object"!=typeof e||!a.default.isValidElement(e.component)||!(0,i.isValidID)(e.id))return A.error&&A.error({source:"insert",message:"insert must have a valid cellPack argument",arguments:[e,t,r],timestamp:Date.now()}),!1;if(!(0,i.isValidID)(t))return A.error&&A.error({source:"insert",message:"insert targetReferenceID must be a valid ID",arguments:[e,t,r],timestamp:Date.now()}),!1;if(!["before","after"].includes(r))return A.error&&A.error({source:"insert",message:'insert position must be either "before" or "after"',arguments:[e,t,r],timestamp:Date.now()}),!1;if(u.current.has(e.id))return A.error&&A.error({source:"insert",message:"insert error: cellPack.id is already in the cradle",arguments:[e,t,r],timestamp:Date.now()}),!1;const n=l.current.indexOf(t);if(-1===n)return A.error&&A.error({source:"insert",message:"target id is not in the cradle",arguments:[e,t,r],timestamp:Date.now()}),!1;I();const f=w.current,p=l.current,h=s.current,R=u.current,y=c.current,x="before"==r?n:n+1;n<f.backwardCells?f.backwardCells++:f.forwardCells++,h.splice(x,0,e),p.splice(x,0,e.id);const P=(0,i.createContainer)(e.id,C.current,f.cellsPerBand,k.current,B.current);R.set(e.id,P);const E=(0,o.createPortal)(e.component,P,e.id);y.splice(x,0,E);const{cellsPerBand:M}=f,L=R.get(t);if(n<=f.backwardCells-1){const e=b.current,t=M-e[0].childElementCount,l=n,a=Math.ceil((l+t+1)/M)-1;if(e[0].childElementCount===M){const t=(0,i.createBand)(k.current,B.current,M,d.current,O.current);m.current.prepend(t),e.unshift(t),f.backwardBands++,f.totalBands++}"before"==r?L.before(P):L.after(P);for(let t=0;t<a;t++)e[t].append(e[t+1].firstChild)}else{const e=v.current,t=M-e[0].childElementCount,l=n-(p.length-f.forwardCells),a=Math.ceil((l+t+1)/M)-1;if(e.at(-1).childElementCount===M){const t=(0,i.createBand)(k.current,B.current,M,d.current,O.current);g.current.append(t),e.push(t),f.forwardBands++,f.totalBands++}"before"==r?L.before(P):L.after(P);for(let t=e.length-1;t>a;t--)e[t].prepend(e[t-1].lastChild)}return D([...c.current]),T(),setTimeout(()=>{S()},1),!0}))(e,t,r);return P(),S(),f}));return f}),remove:j,move:(e,t,...r)=>n(void 0,[e,t,...r],void 0,function*(e,t,r="before"){const a=yield H.enqueue(()=>n(void 0,void 0,void 0,function*(){const a=yield((e,t,r)=>n(void 0,void 0,void 0,function*(){if(!(0,i.isValidID)(e)||!(0,i.isValidID)(t))return A.error&&A.error({source:"move",message:"both source and target must be valid referenceIDs",arguments:[e,t,r],timestamp:Date.now()}),!1;if(!["before","after"].includes(r))return A.error&&A.error({source:"move",message:'position must be "before" or "after"',arguments:[e,t,r],timestamp:Date.now()}),!1;if(e===t)return A.error&&A.error({source:"move",message:"source and target referenceIDs cannot be equal",arguments:[e,t,r],timestamp:Date.now()}),!1;const n=u.current;if(!n.has(e))return A.error&&A.error({source:"move",message:"source referenceID not found in cradle",arguments:[e,t,r],timestamp:Date.now()}),!1;if(!n.has(t))return A.warning&&A.warning({source:"move",message:"targetReferenceID not found in cradle. sourceReferenceID being removed",arguments:[e,t,r],timestamp:Date.now()}),j(e),!0;I();const a=w.current,{cellsPerBand:o}=a,f=l.current,p=s.current,h=c.current,R=f.indexOf(e),y=f.indexOf(t),C=f.length-a.forwardCells,x="s"+(R<C?"h":"t"),P="t"+(y<C?"h":"t"),E=Math.abs(R-y),M=n.get(e),L=n.get(t);if(1===E&&(R>y&&"after"==r||y>R&&"before"==r))return!0;const S=x+P;if("shth"==S){const e=b.current,t=o-e[0].childElementCount,n=R,l=y,a=Math.ceil((n+t+1)/o)-1,i=Math.ceil((l+t+1)/o)-1;if("after"==r?L.after(M):L.before(M),a<i)for(let t=i;t>a;t--)e[t-1].append(e[t].firstChild);else if(a>i)for(let t=i;t<a;t++)e[t+1].prepend(e[t].lastChild)}else if("sttt"==S){const e=v.current,t=o-e[0].childElementCount,n=R-C,l=y-C,a=Math.ceil((n+t+1)/o)-1,i=Math.ceil((l+t+1)/o)-1;if("after"==r?L.after(M):L.before(M),a>i)for(let t=i;t<a;t++)e[t+1].prepend(e[t].lastChild);else if(a<i)for(let t=i;t>a;t--)e[t-1].append(e[t].firstChild)}else if("sh"==x){const e=b.current,t=o-e[0].childElementCount,n=R,l=Math.ceil((n+t+1)/o)-1,c=v.current,s=y-C,u=Math.ceil((s+1)/o)-1;"after"==r?L.after(M):L.before(M);for(let t=l;t>0;t--)e[t].prepend(e[t-1].lastChild);const f=e[0];0===f.childElementCount&&(f.remove(),e.shift(),a.headBands--,a.totalBands--);for(let e=u;e<c.length-1;e++)c[e+1].prepend(c[e].lastChild);const p=c.at(-1);if(p.childElementCount>o){const e=(0,i.createBand)(k.current,B.current,o,d.current,O.current);e.prepend(p.lastChild),g.current.append(e),c.push(e),a.tailBands++,a.totalBands++}a.backwardCells--,a.forwardCells++}else{const e=b.current,t=o-e[0].childElementCount,n=y,l=Math.ceil((n+t+1)/o)-1,c=v.current,s=R-C,u=Math.ceil((s+1)/o)-1;"after"==r?L.after(M):L.before(M);for(let e=u;e<c.length-1;e++)c[e].append(c[e+1].firstChild);const f=c.at(-1);0===f.childElementCount&&(f.remove(),c.pop(),a.tailBands--,a.totalBands--);for(let t=l;t>0;t--)e[t-1].prepend(e[t].lastChild);const p=e[0];if(p.childElementCount>o){const t=(0,i.createBand)(k.current,B.current,o,d.current,O.current);t.append(p.firstChild),m.current.prepend(t),e.unshift(t),a.headBands++,a.totalBands++}a.backwardCells++,a.forwardCells--}const _="before"==r?y:y+1;if(R>y){const[e]=f.splice(R,1),[t]=h.splice(R,1),[r]=p.splice(R,1);f.splice(_,0,e),h.splice(_,0,t),p.splice(_,0,r)}else{const[e]=f.slice(R,R+1),[t]=h.slice(R,R+1),[r]=p.slice(R,R+1);f.splice(_,0,e),h.splice(_,0,t),p.splice(_,0,r),f.splice(R,1),h.splice(R,1),p.splice(R,1)}return D([...c.current]),T(),!0}))(e,t,r);return a&&(yield E(),setTimeout(()=>{S()},1),P()),S(),a}));return a}),replace:(e,...t)=>n(void 0,[e,...t],void 0,function*(e,t={id:null,component:null,default:!0}){const r=yield H.enqueue(()=>n(void 0,void 0,void 0,function*(){const r=yield((e,t)=>{const r=l.current,n=c.current,d=s.current,f=u.current,p=y.current,h=C.current;if(!(0,i.isValidID)(e))return A.error&&A.error({source:"replace",message:"must be a valid referenceID",arguments:[e,t],timestamp:Date.now()}),!1;if(!(0,i.isValidID)(t.id))return A.error&&A.error({source:"replace",message:"must be a valid cellPack.id",arguments:[e,t],timestamp:Date.now()}),!1;if(!a.default.isValidElement(t.component))return A.error&&A.error({source:"replace",message:"must be a valid cellPack.component",arguments:[e,t],timestamp:Date.now()}),!1;if(!f.has(e))return A.warning&&A.warning({source:"replace",message:"referenceID not found",arguments:[e,t],timestamp:Date.now()}),!1;if(f.has(t.id))return A.error&&A.error({source:"replace",message:"cellPack.id already in cradle",arguments:[e,t],timestamp:Date.now()}),!1;const{cellsPerBand:m,orientation:g,layout:b}=p,v=(0,i.createContainer)(t.id,h,m,g,b),R=f.get(e),w=(0,o.createPortal)(t.component,v,t.id),k=t.id,B=r.findIndex(t=>e===t);return r[B]=k,n[B]=w,d[B]=t,f.delete(e),f.set(k,v),R.before(v),R.remove(),D([...n]),!0})(e,t);return P(),S(),r}));return r}),getCradleIDList:()=>[...l.current],getCradleSpecs:()=>({cradleActual:Object.assign({scrollerName:t,firstReferenceID:l.current[0],lastReferenceID:l.current.at(-1),axisReferenceID:x.current},w.current),cradlePotential:Object.assign({cellDimensions:Object.assign({},C.current),spacing:Object.assign({},d.current)},y.current)}),fetchCradleCells:e=>n(void 0,void 0,void 0,function*(){null!=e?yield H.enqueue(()=>n(void 0,void 0,void 0,function*(){yield M(e)})):yield H.enqueue(()=>n(void 0,void 0,void 0,function*(){I(),yield E(),setTimeout(()=>{S()},1)})),S()}),restoreScrollPositions:()=>{const e=new Event("rs3attached");I(),h.current.scrollTo(p.current,f.current),setTimeout(()=>{S()},1),r.current.dispatchAttachedEvents&&u.current.forEach(t=>{t.firstChild&&t.firstChild.dispatchEvent(e)})},dispatchEvent:(e,t)=>{if(!(0,i.isValidID)(e))return A.error&&A.error({source:"dispatchEvent",message:"must be a valid referenceID",arguments:[e,t],timestamp:Date.now()}),!1;if(!u.current.has(e))return A.warning&&A.warning({source:"dispatchEvent",message:"referenceID not found in cradle",arguments:[e,t],timestamp:Date.now()}),!1;let r=t instanceof Event;if(r&&t.isTrusted&&(r=!1),!r)return A.error&&A.error({source:"dispatchEvent",message:"event must be a synthetic event",arguments:[e,t],timestamp:Date.now()}),!1;const n=u.current.get(e);return n.firstChild&&n.firstChild.dispatchEvent(t),!0}}}}},n={};var l=function e(t){var l=n[t];if(void 0!==l)return l.exports;var a=n[t]={exports:{}};return r[t].call(a.exports,a,a.exports,e),a.exports}(869);return l})());